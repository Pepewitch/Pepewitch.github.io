{"version":3,"file":"static/webpack/static/development/pages/index.js.2200673bb27d291ec01d.hot-update.js","sources":["webpack:///./pages/index.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from \"react\";\n\nimport styled from \"styled-components\";\nimport { Header } from \"../components/Header\";\nimport { ResponsiveStackGrid } from \"../components/ResponsiveStackGrid\";\nimport { ShowcaseCard } from \"../components/ShowcaseCard\";\nimport { showcases } from \"../utils/showcases\";\n\nconst Container = styled.div`\n  padding-top: 80px;\n  padding-bottom: 32px;\n`;\n\nconst Index = () => {\n  const stackGridRef = useRef(null);\n  const onSizeChange = useCallback(\n    () => stackGridRef && stackGridRef.current.updateLayout(),\n    [stackGridRef]\n  );\n  const [appearedShowcases, setAppearedShowcases] = useState([]);\n  useEffect(() => {\n    const showShowcases = async () => {\n      const appeared = [];\n      for (const showcase of showcases) {\n        appeared.push(showcase);\n        setAppearedShowcases([...appeared]);\n        await new Promise(res => setTimeout(() => res(), 200));\n      }\n    };\n    showShowcases();\n  }, []);\n  useEffect(() => {\n    const updateView = () => {\n      requestAnimationFrame(() => {\n        // Fix stack grid resize bug by adding some delay before updateView again\n        setTimeout(() => {\n          onSizeChange();\n        }, 20);\n      });\n    };\n    window.addEventListener(\"resize\", updateView);\n    return () => window.removeEventListener(\"resize\", updateView);\n  }, []);\n  return (\n    <Container>\n      <Header />\n      <ResponsiveStackGrid gridRef={stackGridRef}>\n        {appearedShowcases.map(showcase => (\n          <ShowcaseCard\n            key={showcase.key}\n            showcase={showcase}\n            onSizeChange={onSizeChange}\n          />\n        ))}\n      </ResponsiveStackGrid>\n    </Container>\n  );\n};\n\nexport default Index;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AAAA;AACA;AAJA;AAAA;AAAA;AACA;AAMA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAKA;AAAA;AAAA;AAAA;AACA;AANA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAUA;AACA;AACA;;;;A","sourceRoot":""}